![...](..\..\TCP-IP%20API\机器人状态API\images\查询电机状态信息.001.png)

**查询电机状态信息**

**请求**

- 编号: 1040 (0x0410)
- 名称: robot\_status\_motor\_req
- 描述: 查询电机状态信息
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|motor\_names|array[string]|根据电机名称查询指定电机状态信息<br>如果缺省该字段表示查询所有电机状态信息|是|

**请求示例**

1. 查询名为 "motor1" 的电机状态信息

```Plaintext
5A 01 00 01 00 00 00 1B 04 10 00 00 00 00 00 00```


```Plaintext
// {"motor\_names": ["motor1"]}
5A 01 00 01 00 00 00 1B 04 10 00 00 00 00 00 00 7B 22 6D 6F 74 6F 72 5F 6E 61 6D 65 73 22 3A 20 5B 22 6D 6F 74 6F 72 31 22 5D 7D```

2. 查询所有电机状态信息

```Plaintext
5A 01 00 01 00 00 00 00 04 10 00 00 00 00 00 00```

**响应**

- 编号: 11040 (0x2B20)
- 名称: robot\_status\_motor\_res
- 描述: 查询电机状态信息的响应
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|motor\_name|string|电机名称|否|
|type|number|电机类型<br>0=WALK<br>1=SPEED<br>2=SPIN<br>3=LINEAR<br>4=ROTATION<br>5=DO|是|
|can\_router|number|对应模型文件的 canPort|是|
|can\_id|number|对应模型文件的 canId|是|
|position|number|位置，单位: (linear 为 m; steer、spin、rotation 为 rad)|是|
|speed|number|速度，单位: (linear 为 m/s; steer、spin、rotation 为 rad/s)|是|
|current|number|电流, 单位 A|是|
|voltage|number|电压, 单位 V|是|
|stop|boolean|是否停止|是|
|error\_code|number|报错码|是|
|err|number|是否报错|是|
|emc|boolean|是否急停|是|
|temperature|number|温度|是|
|encoder|number|编码器|是|
|passive|boolean|是否为被动电机(指不执行，仅反馈的电机)|是|
|calib|boolean|是否标零完成|是|
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**

1. "motor1" 查询的响应

```JSON
{
  "motor\_info": [
    {
      "can\_id": 2,
      "can\_router": 2,
      "emc": false,
      "err": false,
      "error\_code": 0,
      "motor\_name": "motor1",
      "position": 0,
      "speed": 0,
      "stop": false
    }
  ],
  "ret\_code": 0
}```

2. 所有电机状态信息

```JSON
{
  "motor\_info": [
    {
      "can\_id": 1,
      "can\_router": 1,
      "emc": false,
      "err": false,
      "error\_code": 0,
      "motor\_name": "motor",
      "position": 0,
      "speed": 0,
      "stop": false
    },
    {
      "can\_id": 2,
      "can\_router": 2,
      "emc": false,
      "err": false,
      "error\_code": 0,
      "motor\_name": "motor1",
      "position": 0,
      "speed": 0,
      "stop": false
    }
  ],
  "ret\_code": 0
}```


