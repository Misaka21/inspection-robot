![...](..\..\TCP-IP%20API\机器人状态API\images\查询当前识别相机的点云图片.001.png)

**查询当前识别相机的点云图片**

**请求**

- 编号: 1675 (0x068B)
- 名称: robot\_status\_cloudprojection\_req
- 描述: 查询当前识别相机的点云图片
- JSON 数据区: 见下
1. 请求模板

```**字段名**|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|type|string|<p>请求类型，请求时为"getImage"</p><p></p>|否|
|fileName|string|图片文件名|否|
2. 设置用户画多边形模板(仅有一个多边形)

```**字段名**|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|<p>type</p><p></p>|string|<p>请求类型，设置时为"setPoints"</p><p></p>|否|
|points|json|多边形各点的坐标|否|
|fileName|string|图片文件名|否|
**请求示例**

```JSON
//请求模板
{
  "type":"getImage"
  "fileName":"pallet/p0001.pallet"
}

//设置用户画多边形模板(仅有一个多边形)
{
  "type":"setPoints"
  "points":[
    {"x":"0","y":"1"}, {"x":"0","y":"1"}, {"x":"0","y":"1"}
  ]
  "fileName":"pallet/p0001.pallet"
}```
**响应**

- 编号: 11675 (0x2D98)
- 名称: robot\_status\_cloudprojection\_res
- 描述: 查询当前识别相机的点云图片 的响应
- JSON 数据区: 见下
1. 请求失败

```字段名|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|
2. getImage 请求成功

```字段名|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|type|string|请求类型|否|
|imageBase64|string|base64 的 string 编码图片|否|
|fileName|string|图片文件名|否|
3. setPoints 请求成功返回 base64 的 string 编码图片

**响应示例**


```JSON
//请求失败，函数返回值为空
{
  "create\_on": "2022-10-31T15:55:42.120Z",
  "ret\_code": 40111,
  "err\_msg": "getCloudProjectionImg return is null"
}

//返回模板图片
{
  "type": "getImage",
  "imageBase64": "base534ehhhfdasfdas=-",
  "fileName": "pallet/p0001.pallet"
}```


