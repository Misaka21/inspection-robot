![...](..\..\TCP-IP%20API\机器人状态API\images\查询机器人电池状态.001.png)

**查询机器人电池状态**

**请求**

- 编号: 1007 (0x03EF)
- 名称: robot\_status\_battery\_req
- 描述: 查询机器人电池状态
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|simple|boolean|是否只返回简单数据, true = 是，false = 否，缺省则为否|是|

**请求示例**


```Plaintext
5A 01 00 01 00 00 00 00 03 EF 00 00 00 00 00 00```


```JSON
// 只返回简单数据
// {"simple":true}
5A 01 00 01 00 00 00 0F 03 EF 00 00 00 00 00 00
7B 22 73 69 6D 70 6C 65 22 3A 74 72 75 65 7D```

**响应**

- 编号: 11007 (0x2AFF)
- 名称: robot\_status\_battery\_res
- 描述: 查询机器人电池状态的响应
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|battery\_level|number|机器人电池电量, 范围 [0, 1]|是|
|battery\_temp|number|机器人电池温度, 单位 ℃|是|
|charging|boolean|电池是否正在充电|是|
|voltage|number|电压, 单位 V|是|
|current|number|电流, 单位 A|是|
|max\_charge\_voltage|number|允许充电的最大电压( -1 = 该电池不支持此功能), 单位 V|是|
|max\_charge\_current|number|允许充电的最大电流( -1 = 该电池不支持此功能), 单位 A|是|
|manual\_charge|boolean|手动充电状态：仅指示机器人是否连接手动充电器（手动充电信号线是否接地），不保证电源是否接通，连接手动充电器时不能运动(仅 SRC-2000 支持)|是|
|auto\_charge|boolean|仅指示机器人是否连接自动充电桩，不保证电源是否接通(仅 SRC-2000 支持)|是|
|battery\_cycle|number|电池循环次数(从电池 BMS 获取，不保证正确)|是|
|battery\_user\_data|string|电池用户自定义数据|是|
|extra|string|客户自定义数据|是|
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**


```JSON
{
  "auto\_charge": false,
  "battery\_cycle": 9,
  "battery\_level": 0.87,
  "battery\_temp": 35,
  "battery\_user\_data": "",
  "charging": false,
  "current": 2,
  "manual\_charge": false,
  "max\_charge\_current": 5,
  "max\_charge\_voltage": 48,
  "ret\_code": 0,
  "voltage": 24.5,
  "extra": "json string" 
}```

如果只返回简单数据(数据区只有电量)，如下：


```JSON
{
  "battery\_level": 0.8
}```


