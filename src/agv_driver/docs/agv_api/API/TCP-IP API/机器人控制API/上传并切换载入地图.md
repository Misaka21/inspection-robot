![...](..\..\TCP-IP%20API\机器人控制API\images\上传并切换载入地图.001.png)

**上传并切换载入地图**

**请求**

- 编号: 2025 (0x07E9)
- 名称: robot\_control\_upload\_and\_loadmap\_req
- 描述: 上传并切换载入地图
- JSON 数据区: 见下


```上传2D地图时数据区中的内容为整张 json 格式的地图, 地图格式详情请参见 [附录C: 地图格式](https://shimo.im/docs/0m8AZVlgBJOF5Aba/read)```


```上传3D地图时数据区中的内容为zip压缩包，地图格式详情请参见[3D 地图格式](..\附录\3D 地图格式.md)```


```解析地图合法后会把状态查询里的current\_map更新成新地图，等完成响应后将载图状态切换成载入地图成功```
**请求示例**

**[default2.smap]**

**响应**

- 编号: 12025 (0x2EF9)
- 名称: robot\_control\_upload\_and\_loadmap\_res
- 描述: 上传并切换载入地图的响应
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**


```JSON
{
  "create\_on": "2022-03-07T14:56:33.617Z",
  "ret\_code": 0
}```


