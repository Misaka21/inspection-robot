![...](..\..\TCP-IP%20API\机器人导航API\images\获取路径导航的路径.001.png)

**获取路径导航的路径**


```该请求只返回使用路径导航去到目标点所规划的路径，并不实际执行导航。```

**请求**

- 编号: 3053 (0x0BED)
- 名称: robot\_task\_target\_path\_req
- 描述: 获取路径导航的路径
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|id|string|目标站点的 id|否|
|return\_stations|object|返回站点绑定的库位信息|是|

**请求示例**

示例 1：查询去 AP25 的路径

```Plaintext
5A 01 00 01 00 00 00 0D 0B ED 00 00 00 00 00 00
// 请求去AP25的路径 {"id":"AP25"}，序列化后数据区为
7B 22 69 64 22 3A 22 41 50 32 35 22 7D```

示例 2： 查询去 "LM2" 的路径，同时返回路径上点对应的库位信息

```Bash
{"id":"LM2","return\_stations":true}```

**响应**

- 编号: 13053 (0x32FD)
- 名称: robot\_task\_target\_path\_res
- 描述: 获取路径导航的路径的响应
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|path|array[string]|按顺序的路径上的站点|是|
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**

示例 1：

```JSON
// 获取去AP25的路径导航的路径，但是并不执行导航
{
  "path": [
    "AP10",
    "AP11",
    "AP69",
    "AP13",
    "AP65",
    "AP14",
    "AP15",
    "AP16",
    "AP17",
    "LM41",
    "AP68",
    "AP63",
    "LM38",
    "LM58",
    "AP22",
    "AP23",
    "AP24",
    "AP25"
  ],
  "ret\_code": 0
}```


```Plaintext
5A 01 00 01 00 00 00 95 32 FD 0B ED 00 00 00 00
// 实际数据区为
7B 22 70 61 74 68 22 3A 5B 22 41 50 31 30 22 2C 
22 41 50 31 31 22 2C 22 41 50 36 39 22 2C 22 41 
50 31 33 22 2C 22 41 50 36 35 22 2C 22 41 50 31 
34 22 2C 22 41 50 31 35 22 2C 22 41 50 31 36 22 
2C 22 41 50 31 37 22 2C 22 4C 4D 34 31 22 2C 22 
41 50 36 38 22 2C 22 41 50 36 33 22 2C 22 4C 4D 
33 38 22 2C 22 4C 4D 35 38 22 2C 22 41 50 32 32 
22 2C 22 41 50 32 33 22 2C 22 41 50 32 34 22 2C
22 41 50 32 35 22 5D 2C 22 72 65 74 5F 63 6F 64 
65 22 3A 30 7D```

示例 2：

```Bash
{
        "create\_on": "2024-12-11T17:17:26.929+0800",
        "path": ["LM2"],
        "ret\_code": 0,
        "stations": {
                "LM2": {
                        "bin\_locations": [{
                                "class\_name": "GeneralLocation",
                                "desc": "",
                                "group\_name": "",
                                "instance\_name": "Loc-2-1",        // 库位名
                                "point\_name": "LM2",               // 所在站点
                                "pos": {                           // 库位坐标
                                        "x": -2.239,
                                        "y": -0.739,
                                        "z": 0
                                },
                                "property": [{                     // 库位属性 
                                        "key": "points",
                                        "string\_value": "[{\"x\":-2.3887513424043596,\"y\":-0.8893279015732394},{\"x\":-2.0887513424043593,\"y\":-0.8893279015732394},{\"x\":-2.0887513424043593,\"y\":-0.5893279015732393},{\"x\":-2.3887513424043596,\"y\":-0.5893279015732393}]",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }, {
                                        "key": "binTask",
                                        "string\_value": "",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }]
                        }, {
                                "class\_name": "GeneralLocation",
                                "desc": "",
                                "group\_name": "",
                                "instance\_name": "Loc-3-1",
                                "point\_name": "LM2",
                                "pos": {
                                        "x": -1.778,
                                        "y": -0.723,
                                        "z": 0
                                },
                                "property": [{
                                        "key": "points",
                                        "string\_value": "[{\"x\":-1.927709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.572713791425526},{\"x\":-1.927709785805317,\"y\":-0.572713791425526}]",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }, {
                                        "key": "binTask",
                                        "string\_value": "",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }]
                        }, {
                                "class\_name": "GeneralLocation",
                                "desc": "",
                                "group\_name": "",
                                "instance\_name": "Loc-3-2",
                                "point\_name": "LM2",
                                "pos": {
                                        "x": -1.778,
                                        "y": -0.723,
                                        "z": 1
                                },
                                "property": [{
                                        "key": "points",
                                        "string\_value": "[{\"x\":-1.927709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.572713791425526},{\"x\":-1.927709785805317,\"y\":-0.572713791425526}]",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }, {
                                        "key": "binTask",
                                        "string\_value": "",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }]
                        }, {
                                "class\_name": "GeneralLocation",
                                "desc": "",
                                "group\_name": "",
                                "instance\_name": "Loc-3-3",
                                "point\_name": "LM2",
                                "pos": {
                                        "x": -1.778,
                                        "y": -0.723,
                                        "z": 2
                                },
                                "property": [{
                                        "key": "points",
                                        "string\_value": "[{\"x\":-1.927709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.572713791425526},{\"x\":-1.927709785805317,\"y\":-0.572713791425526}]",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }, {
                                        "key": "binTask",
                                        "string\_value": "",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }]
                        }, {
                                "class\_name": "GeneralLocation",
                                "desc": "",
                                "group\_name": "",
                                "instance\_name": "Loc-3-4",
                                "point\_name": "LM2",
                                "pos": {
                                        "x": -1.778,
                                        "y": -0.723,
                                        "z": 3
                                },
                                "property": [{
                                        "key": "points",
                                        "string\_value": "[{\"x\":-1.927709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.8727137914255261},{\"x\":-1.627709785805317,\"y\":-0.572713791425526},{\"x\":-1.927709785805317,\"y\":-0.572713791425526}]",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }, {
                                        "key": "binTask",
                                        "string\_value": "",
                                        "tag": "",
                                        "type": "json",
                                        "value": ""
                                }]
                        }],
                        "r": -0.0,            // 站点朝向 (rad)
                        "x": -2.573,          // 站点 x 坐标 (m)
                        "y": 0.013            // 站点 y 坐标 (m)
                }
        }
}```


