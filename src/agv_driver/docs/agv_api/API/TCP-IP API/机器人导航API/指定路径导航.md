![...](..\..\TCP-IP%20API\机器人导航API\images\指定路径导航.001.png)

**指定路径导航**


```指定路径导航为向机器人发送一组站点序列，机器人会按照此序列进行导航（不再自主规划路径），经过中间站点不进行停留。```


```<p>注意：</p><p>1. Robokit 3.3 以上版本必须包含三个元素： source\_id 表示线路的起点， id 表示线路的终点， task\_id 表示这个任务的唯一编号。</p><p>2. source\_id 和 id 之间必须有直接相连的线路，不可以跳点，否则机器人会报错。</p><p>3. id 如果不是 SELF\_POSITION ， source\_id 不能是 SELF\_POSITION 。</p><p>4.  id 和 source\_id 可以同时为 SELF\_POSITION 。</p><p>5. 此 API 需要强制指定 task\_id 。</p><p>6. task\_id 不能重复。</p><p>7. 如果当前机器人在执行一个任务，那么新任务会自动追加在当前任务的后面。如果当前任务失败、或者被取消，新任务也会被取消。如果当前任务完成， 那么会按接收顺序执行新任务。</p><p>8. 指定路径导航也支持导航任务中带有 operation，执行脚本，具体参见 [固定路径导航 ](路径导航.md)。</p><p>9. 如果机器人在执行指定路径导航任务，追加新任务时，新任务的线路和最后一个任务的线路不是相连，（比如最后一个任务的路径终点和新任务的路径的起点不是同一个点），而是跳跃的。如果跳跃的距离大于 [OutPathDist ](https://seer-group.feishu.cn/wiki/Lz2gwToeFilK8Lkh4K1cWXnhnqg)，会导致线路外错误，否则直接导航到不相连的线路。</p>```

**请求**

- 编号: 3066 (0x0BFA)
- 名称: robot\_task\_gotargetlist\_req
- 描述: 指定路径导航
- JSON 数据区: 见请求示例

```参考路径导航 3051，其中 task\_id，id，source\_id 为必填字段，不可省略。```
**注意事项：通常这个api需要配合[查询机器人任务状态](..\机器人状态API\查询机器人任务状态.md)，来查询当前机器人到点状态**

**请求示例**


```JSON
// 机器人从 LM1 -> LM2 -> AP1 （执行 JackHeight）
{
  "move\_task\_list": [
    {
      "id": "LM2",
      "source\_id": "LM1",
      "task\_id": "12344321"
    },
    {
      "id": "AP1",
      "source\_id": "LM2",
      "task\_id": "12344322",
      "operation": "JackHeight",
      "jack\_height": 0.2
    }
  ]
}```

**响应**

- 编号: 13066 (0x330A)
- 名称: robot\_task\_gotargetlist\_res
- 描述: 指定路径导航的响应
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**


```JSON
{
  "ret\_code": 0
}```


```Plaintext
5A 01 00 01 00 00 00 0E 33 0A 0B FA 00 00 00 00 
7B 22 72 65 74 5F 63 6F 64 65 22 3A 30 7D```


