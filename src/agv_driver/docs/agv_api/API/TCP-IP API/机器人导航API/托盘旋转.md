![...](..\..\TCP-IP%20API\机器人导航API\images\托盘旋转.001.png)

**托盘旋转**

**请求**

- 编号: 3057 (0x0BF1)
- 名称: robot\_task\_spin\_req
- 描述: 对托盘进行旋转
- JSON 数据区: 见下表


```<p>注意:</p><p>1. 3055 (平动), 3056( 转动), 3057 , 3058 不能同时进行</p><p>2. 托盘旋转所有角度都是 “弧度”制</p><p>3. 托盘在非随动的情况下，如果顶升机构处于下降状态，机器人导航前会将自动将托盘角度归零，如果顶升机构处于顶起状态，机器人导航前会将自动将托盘角度就近归零或转到 180 度。可以通过将参数 AutoSpinToZeroInUnload (下降状态)， AutoSpinToZero （顶起状态）设置为 false 来关闭这个特性。</p>```


```字段名|类型|描述|可缺省``` :- | :- | :- |
|<p>increase\_spin\_angle</p><p></p>|<p>number</p><p></p>|在当前托盘角度基础上增加一个角度, 角度为正数则逆时针旋转, 为负数顺时针旋转|是|
|<p>robot\_spin\_angle</p><p></p>|<p>number</p><p></p>|将托盘的角度转到机器人坐标系下的一个角度。spin\_direction为0, 则就近转过去; spin\_direction为1, 则逆时针转过去; spin\_direction为-1, 则顺时针转过去|是|
|global\_spin\_angle|number|将托盘的角度转到世界坐标系下的一个角度。spin\_direction为0, 则就近转过去; spin\_direction为1, 则逆时针转过去; spin\_direction为-1, 则顺时针转过去|是|
|spin\_direction|number|0 = 就近, 1 = 逆时针, -1=顺时针|是|

**请求示例**


```JSON
{"increase\_spin\_angle":1.57}
//  逆时针旋转 1.57 弧度
5A 01 00 01 00 00 00 00 0B F1 00 00 00 00 00 00
7B 22 69 6E 63 72 65 61 73 65 5F 73 70 69 6E 5F 61 6E 67 6C 65 22 3A 31 2E 35 37 7D```


```JSON
{"robot\_spin\_angle":-1.57,"spin\_direction":0.0}
//  就近转到 -1.57 弧度(机器人坐标系)
5A 01 00 01 00 00 00 00 0B F1 00 00 00 00 00 00
7B 22 72 6F 62 6F 74 5F 73 70 69 6E 5F 61 6E 67 6C 65 22 3A 2D 31 2E 35 37 2C 22 73 70 69 6E 5F 64 69 72 65 63 74 69 6F 6E 22 3A 30 2E 30 7D```


```JSON
{"global\_spin\_angle":-1.57,"spin\_direction":0.0}
//  就近转到 -1.57 弧度(世界坐标系)
5A 01 00 01 00 00 00 00 0B F1 00 00 00 00 00 00
7B 22 67 6C 6F 62 61 6C 5F 73 70 69 6E 5F 61 6E 67 6C 65 22 3A 2D 31 2E 35 37 2C 22 73 70 69 6E 5F 64 69 72 65 63 74 69 6F 6E 22 3A 30 2E 30 7D```

**响应**

- 编号: 13057 (0x3301)
- 名称: robot\_task\_spin\_res
- 描述: 对托盘进行旋转的响应
- JSON 数据区: 见下表

```字段名|类型|描述|可缺省``` :- | :- | :- |
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**


```JSON
{
  "ret\_code": 0
}```


```Plaintext
5A 01 00 01 00 00 00 0E 33 01 0B F1 00 00 00 00
7B 22 72 65 74 5F 63 6F 64 65 22 3A 30 7D```


