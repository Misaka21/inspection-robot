![...](..\..\TCP-IP%20API\机器人配置API\images\插入动态障碍物(世界坐标系).001.png)

**插入动态障碍物(世界坐标系)**

**请求**

- 编号: 4351 (0x10FF)
- 名称: robot\_config\_addgobstacle\_req
- 描述: 插入动态障碍物(世界坐标系)
- JSON 数据区: 见下表

```<p>注意：</p><p>插入世界坐标系下的矩形动态障碍物。</p>```


```**字段名**|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|name|string|障碍物名称, 需要唯一|否|
|x1|double|矩形第一个顶点的 x 坐标(世界坐标系), 单位 m|否|
|y1|double|矩形第一个顶点的 y 坐标(世界坐标系), 单位 m|否|
|x2|double|矩形第二个顶点的 x 坐标(世界坐标系), 单位 m|否|
|y2|double|矩形第二个顶点的 y 坐标(世界坐标系), 单位 m|否|
|x3|double|矩形第三个顶点的 x 坐标(世界坐标系), 单位 m|否|
|y3|double|矩形第三个顶点的 y 坐标(世界坐标系), 单位 m|否|
|x4|double|矩形第四个顶点的 x 坐标(世界坐标系), 单位 m|否|
|y4|double|矩形第四个顶点的 y 坐标(世界坐标系), 单位 m|否|

**请求示例**

示例 1：单个添加

```JSON
{"name":"obstacle1","x1":12.0,"y1":-3.6,"x2":14.0,"y2":-3.6,"x3":14.0,"y3":-4.4,"x4":12.0,"y4":-4.4}
// 在世界坐标系下添加name为obstacle1的动态障碍物
5A 01 00 01 00 00 00 64 10 FF 00 00 00 00 00 00
7B 22 6E 61 6D 65 22 3A 22 6F 62 73 74 61 63 6C 
65 31 22 2C 22 78 31 22 3A 31 32 2E 30 2C 22 79 
31 22 3A 2D 33 2E 36 2C 22 78 32 22 3A 31 34 2E 
30 2C 22 79 32 22 3A 2D 33 2E 36 2C 22 78 33 22 
3A 31 34 2E 30 2C 22 79 33 22 3A 2D 34 2E 34 2C 
22 78 34 22 3A 31 32 2E 30 2C 22 79 34 22 3A 2D 
34 2E 34 7D```

示例 2：多个添加

```Bash
[{"name":"obstacle1","x1":12.0,"y1":-3.6,"x2":14.0,"y2":-3.6,"x3":14.0,"y3":-4.4,"x4":12.0,"y4":-4.4}]```


```<p>注意：</p><p>在服务器收到动态障碍物详细坐标时，会在世界坐标系相应坐标添加 name 字段数据的障碍物。</p>```

如下图所示

![...](..\..\TCP-IP%20API\机器人配置API\images\插入动态障碍物(世界坐标系).002.png)

**响应**

- 编号: 14351 (0x380F)
- 名称: robot\_config\_addgobstacle\_res
- 描述: 插入动态障碍物(世界坐标系)的响应
- JSON 数据区: 见下表

```**字段名**|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**


```JSON
{
  "ret\_code": 0
}```


```Plaintext
5A 01 00 01 00 00 00 0E 38 0F 10 FF 00 00 00 00
7B 22 72 65 74 5F 63 6F 64 65 22 3A 30 7D```


