![...](..\..\TCP-IP%20API\机器人配置API\images\从机器人下载地图.001.png)

**从机器人下载地图**

**请求**

- 编号: 4011 (0x0FAB)
- 名称: robot\_config\_downloadmap\_req
- 描述: 从机器人下载地图
- JSON 数据区: 见下表

```**字段名**|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|map\_name|string|地图名(不能包含中文等非法字符, 只能使用 0-9, a-z, A-Z, -, \_)|否|

**请求示例**


```JSON
{"map\_name":"default"}
// 请求机器人中名为default的地图
5A 01 00 00 00 00 00 16 0F AB 00 00 00 00 00 00
7B 22 6D 61 70 5F 6E 61 6D 65 22 3A 22 64 65 66 
61 75 6C 74 22 7D```

**响应**

- 编号: 14011 (0x36BB)
- 名称: robot\_config\_downloadmap\_res
- 描述: 从机器人下载地图的响应
- JSON 数据区: 见下


```<p>注意：</p><p>如果不发生错误, 数据区中的内容为整张 json 格式的地图, 地图详情请参见 [附录C: 地图格式 ](https://shimo.im/docs/0m8AZVlgBJOF5Aba/read)。</p>```


```<p>注意：</p><p>如果发生错误, 数据区为下表内容:</p>```


```**字段名**|**类型**|**描述**|**可缺省**``` :- | :- | :- |
|ret\_code|number|API 错误码|是|
|create\_on|string|API 上传时间戳|是|
|err\_msg|string|错误信息|是|

**响应示例**


```JSON
{
  "err\_msg": "no this map file",
  "ret\_code": 40051
}```


```Plaintext
5A 01 00 01 00 00 00 2F 36 BB 0F AB 00 00 00 00
7B 22 65 72 72 5F 6D 73 67 22 3A 22 6E 6F 20 74 
68 69 73 20 6D 61 70 20 66 69 6C 65 22 2C 22 72 
65 74 5F 63 6F 64 65 22 3A 34 30 30 35 31 7D```


